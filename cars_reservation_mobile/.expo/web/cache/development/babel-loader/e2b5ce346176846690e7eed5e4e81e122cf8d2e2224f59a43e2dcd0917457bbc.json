{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CarHistoryScreen = function CarHistoryScreen(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _route$params = route.params,\n    item = _route$params.item,\n    user = _route$params.user;\n  var token = user.token;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    appointments = _useState2[0],\n    setAppointments = _useState2[1];\n  useEffect(_asyncToGenerator(function* () {\n    yield axios.get(\"http://127.0.0.1:8000/api/rdv/getCarHistory/\" + item.id, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(function (resp) {\n      setAppointments(resp.data.data);\n    });\n  }), []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Voiture : mercedes E63s\"\n    }), appointments.length === 0 ? _jsx(Text, {\n      children: \"Aucun historique .\"\n    }) : _jsx(View, {\n      children: _jsx(FlatList, {\n        data: appointments,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        renderItem: function renderItem(_ref3) {\n          var item = _ref3.item;\n          return _jsxs(View, {\n            style: styles.customCard,\n            children: [_jsx(Text, {\n              style: styles.appointmentInfo,\n              children: item.agency.name\n            }), _jsx(Text, {\n              style: styles.appointmentInfo,\n              children: item.service\n            }), _jsxs(Text, {\n              style: styles.appointmentInfo,\n              children: [\"Date : \", item.date, \" \", item.start.slice]\n            })]\n          });\n        }\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  customCard: {\n    padding: 15,\n    marginBottom: 15,\n    borderRadius: 10,\n    backgroundColor: \"white\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    alignItems: \"flex-start\"\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  appointmentItem: {\n    backgroundColor: \"#f5f5f5\",\n    padding: 10,\n    marginBottom: 10,\n    borderRadius: 5\n  },\n  appointmentInfo: {\n    fontSize: 16\n  }\n});\nexport default CarHistoryScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","StyleSheet","jsx","_jsx","jsxs","_jsxs","CarHistoryScreen","_ref","navigation","route","_route$params","params","item","user","token","_useState","_useState2","_slicedToArray","appointments","setAppointments","_asyncToGenerator","axios","get","id","headers","Authorization","then","resp","data","style","styles","container","children","title","length","keyExtractor","toString","renderItem","_ref3","customCard","appointmentInfo","agency","name","service","date","start","slice","create","flex","padding","marginBottom","borderRadius","backgroundColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","alignItems","fontSize","fontWeight","appointmentItem"],"sources":["D:/freelance/pfe/cars_reservation/cars_reservation_mobile/src/screens/cars/CarHistoryScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, FlatList, StyleSheet } from \"react-native\";\r\n\r\nconst CarHistoryScreen = ({ navigation, route }) => {\r\n    const { item, user } = route.params;\r\n    const token = user.token;\r\n    const [appointments, setAppointments] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        await axios\r\n            .get(\"http://127.0.0.1:8000/api/rdv/getCarHistory/\" + item.id, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            })\r\n            .then((resp) => {\r\n                setAppointments(resp.data.data);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.title}>Voiture : mercedes E63s</Text>\r\n\r\n            {appointments.length === 0 ? (\r\n                <Text>Aucun historique .</Text>\r\n            ) : (\r\n                <View>\r\n                    <FlatList\r\n                        data={appointments}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={({ item }) => (\r\n                            <View style={styles.customCard}>\r\n                                <Text style={styles.appointmentInfo}>\r\n                                    {item.agency.name}\r\n                                </Text>\r\n                                <Text style={styles.appointmentInfo}>\r\n                                    {item.service}\r\n                                </Text>\r\n                                <Text style={styles.appointmentInfo}>\r\n                                    Date : {item.date} {item.start.slice}\r\n                                </Text>\r\n                            </View>\r\n                        )}\r\n                    />\r\n                </View>\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        padding: 20,\r\n    },\r\n    customCard: {\r\n        padding: 15,\r\n        marginBottom: 15,\r\n        borderRadius: 10,\r\n        backgroundColor: \"white\",\r\n        shadowColor: \"#000\", // On iOS\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5, // On Android\r\n        alignItems: \"flex-start\",\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        fontWeight: \"bold\",\r\n        marginBottom: 20,\r\n    },\r\n    appointmentItem: {\r\n        backgroundColor: \"#f5f5f5\",\r\n        padding: 10,\r\n        marginBottom: 10,\r\n        borderRadius: 5,\r\n    },\r\n    appointmentInfo: {\r\n        fontSize: 16,\r\n    },\r\n});\r\n\r\nexport default CarHistoryScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}