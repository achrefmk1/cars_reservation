{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AgencyListScreen = function AgencyListScreen(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var user = route.params.user;\n  var token = user.token;\n  var searchValue = route.params.searchValue;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    agencies = _useState2[0],\n    setAgencies = _useState2[1];\n  useEffect(function () {\n    fetchAgenciesData();\n  }, []);\n  var fetchAgenciesData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield axios.post(\"http://127.0.0.1:8000/api/agencies/find\", {\n          adresse: searchValue\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setAgencies(response.data.data);\n      } catch (error) {\n        console.error(\"Error fetching agencies:\", error);\n      }\n    });\n    return function fetchAgenciesData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var navigateToAgencyDetails = function navigateToAgencyDetails(agency) {\n    navigation.navigate(\"Détails\", {\n      navigation: navigation,\n      token: token,\n      agency: agency\n    });\n  };\n  var renderAgencyItem = function renderAgencyItem(_ref3) {\n    var item = _ref3.item;\n    return _jsxs(TouchableOpacity, {\n      style: styles.customCard,\n      onPress: function onPress() {\n        return navigateToAgencyDetails(item);\n      },\n      children: [_jsx(Text, {\n        style: styles.agencyName,\n        children: item.name\n      }), _jsx(Text, {\n        style: styles.agencyAddress,\n        children: item.adresse\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      children: _jsxs(Text, {\n        style: styles.title,\n        children: [\"Vous avez cherch\\xE9 : \\\"\", searchValue, \"\\\"\"]\n      })\n    }), _jsx(FlatList, {\n      data: agencies,\n      renderItem: renderAgencyItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  customCard: {\n    padding: 15,\n    marginBottom: 10,\n    borderRadius: 10,\n    backgroundColor: \"white\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    alignItems: \"flex-start\"\n  },\n  agencyItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ccc\",\n    paddingVertical: 10\n  },\n  agencyName: {\n    fontSize: 18,\n    fontWeight: \"bold\"\n  },\n  agencyAddress: {\n    fontSize: 14,\n    color: \"#666\"\n  }\n});\nexport default AgencyListScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","TouchableOpacity","StyleSheet","axios","jsx","_jsx","jsxs","_jsxs","AgencyListScreen","_ref","navigation","route","user","params","token","searchValue","_useState","_useState2","_slicedToArray","agencies","setAgencies","fetchAgenciesData","_ref2","_asyncToGenerator","response","post","adresse","headers","Authorization","data","error","console","apply","arguments","navigateToAgencyDetails","agency","navigate","renderAgencyItem","_ref3","item","style","styles","customCard","onPress","children","agencyName","name","agencyAddress","container","title","renderItem","keyExtractor","id","toString","create","flex","padding","fontSize","fontWeight","marginBottom","borderRadius","backgroundColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","alignItems","agencyItem","borderBottomWidth","borderBottomColor","paddingVertical","color"],"sources":["D:/freelance/pfe/cars_reservation/cars_reservation_mobile/src/screens/agencies/AgencyListScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    FlatList,\r\n    TouchableOpacity,\r\n    StyleSheet,\r\n} from \"react-native\";\r\nimport axios from \"axios\";\r\n\r\nconst AgencyListScreen = ({ navigation, route }) => {\r\n    const { user } = route.params;\r\n    const token = user.token;\r\n    const searchValue = route.params.searchValue;\r\n    const [agencies, setAgencies] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchAgenciesData();\r\n    }, []);\r\n\r\n    const fetchAgenciesData = async () => {\r\n        try {\r\n            const response = await axios.post(\r\n                \"http://127.0.0.1:8000/api/agencies/find\",\r\n                {\r\n                    adresse: searchValue,\r\n                },\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n            setAgencies(response.data.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching agencies:\", error);\r\n        }\r\n    };\r\n\r\n    const navigateToAgencyDetails = (agency) => {\r\n        navigation.navigate(\"Détails\", { navigation, token, agency });\r\n    };\r\n\r\n    const renderAgencyItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            style={styles.customCard}\r\n            onPress={() => navigateToAgencyDetails(item)}\r\n        >\r\n            <Text style={styles.agencyName}>{item.name}</Text>\r\n            <Text style={styles.agencyAddress}>{item.adresse}</Text>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View>\r\n                <Text style={styles.title}>\r\n                    Vous avez cherché : \"{searchValue}\"\r\n                </Text>\r\n            </View>\r\n            <FlatList\r\n                data={agencies}\r\n                renderItem={renderAgencyItem}\r\n                keyExtractor={(item) => item.id.toString()}\r\n            />\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        padding: 20,\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        fontWeight: \"bold\",\r\n        marginBottom: 20,\r\n    },\r\n    customCard: {\r\n        padding: 15,\r\n        marginBottom: 10,\r\n        borderRadius: 10,\r\n        backgroundColor: \"white\",\r\n        shadowColor: \"#000\", // On iOS\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5, // On Android\r\n        alignItems: \"flex-start\",\r\n    },\r\n    agencyItem: {\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: \"#ccc\",\r\n        paddingVertical: 10,\r\n    },\r\n    agencyName: {\r\n        fontSize: 18,\r\n        fontWeight: \"bold\",\r\n    },\r\n    agencyAddress: {\r\n        fontSize: 14,\r\n        color: \"#666\",\r\n    },\r\n});\r\n\r\nexport default AgencyListScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}